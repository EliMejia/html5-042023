<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">


     <title>Gelocalización</title>

     <script type="text/javascript">
     	
      function lookup_location() {
             geoPosition.getCurrentPosition(show_map, show_map_error);
       }

       function show_map(loc) {
            $("#geo-wrapper").css({'width':'320px','height':'350px'});
             var map = new GMap2(document.getElementById("geo-wrapper"));
             var center = new GLatLng(loc.coords.latitude, loc.coords.longitude);
             map.setCenter(center, 14);
             map.addControl(new GSmallMapControl());
             map.addControl(new GMapTypeControl());
             map.addOverlay(new GMarker(center, {draggable: false, title: "You are here (more or less)"}));
        }

        function show_map_error() {
           $("#live-geolocation").html('Unable to determine your location.');
         }
     </script>
</head>
<body>
	<h1 align="center">Ejempo</h1>

       <p style="margin:0 auto;width:194px" id="geo-wrapper"><img src="img.png" alt="man with a globe for a head" width="194" height="317"><br><span id="live-geolocation"></span>
        <a id="lookup_location">Ejemplo</a>
	<p align="center">
         En la carga de la página, esta página llama geoPosition.init()para determinar si la geolocalización está disponible a través de cualquiera de las</br> 
         interfaces que geoPosition.jsadmite. Si es así, establece un enlace en el que puede hacer clic para buscar su ubicación. Al hacer clic en ese enlace,</br> 
         se llama a la lookup_location()función.

         Si da su consentimiento para rastrear su ubicación, y el servicio de back-end pudo determinar su ubicación, geoPosition.jsllama a la primera función</br> 
         de devolución de llamada show_map(), con un solo argumento, loc. El locobjeto tiene una coordspropiedad que contiene información de latitud, longitud y</br> 
         precisión. (Este ejemplo no usa la información de precisión). El resto de la show_map()función usa la API de Google Maps para configurar un mapa incrustado.

         Si geoPosition.jsno puede determinar su ubicación, llama a la segunda función de devolución de llamada, show_map_error().
	</p>

</body>
</html>
